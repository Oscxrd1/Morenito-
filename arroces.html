
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Arma tu Arroz - Morenito</title>
  <link rel="stylesheet" href="https://cdn.snipcart.com/themes/v3.4.0/default/snipcart.css" />
  <script async src="https://cdn.snipcart.com/themes/v3.4.0/default/snipcart.js"></script>
  <script>
    window.SnipcartSettings = {
        publicApiKey: 'N2JhNWQ2M2QtNTNjOC00OGI2LWFmNGItMDNhOTNhNzdmZDg3NjM4ODA0Nzg1NDAwOTE1NjA3',
        loadStrategy: 'on-user-interaction'
    };
  </script>
  <style>
    body { font-family: 'Quicksand', sans-serif; background: #fefdf9; padding: 20px; color: #2e7d32; }
    .container { max-width: 800px; margin: auto; }
    input, select { width: 100%; padding: 12px; margin: 10px 0; border-radius: 10px; border: 1px solid #ccc; }
    button { background: #66bb6a; color: white; padding: 14px 28px; border: none; border-radius: 30px; cursor: pointer; margin-top: 20px; width: 100%; }
    button:hover { background: #43a047; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Arma tu Arroz de Leche</h1>
    <form id="form-arroz">
      <input type="text" id="nombre" placeholder="Nombre completo" required>
      <input type="tel" id="telefono" placeholder="Celular" required>

      <label for="sabor">Sabor</label>
      <select id="sabor" required>
        <option value="Tradicional">Tradicional</option>
        <option value="Coco">Coco</option>
        <option value="Arequipe">Arequipe</option>
        <option value="Café suave">Café suave</option>
        <option value="Saludable">Saludable</option>
      </select>

      <label for="topping">Toppings (máximo 2) - adicionales a $1.500</label>
      <select id="topping" multiple size="6" required>
        <option value="Rollos de piazza">Rollos de piazza</option>
        <option value="Galleta Oreo">Galleta Oreo</option>
        <option value="Chispas de chocolate">Chispas de chocolate</option>
        <option value="Canela molida">Canela molida</option>
        <option value="Uvas pasas">Uvas pasas</option>
        <option value="Coco rallado">Coco rallado</option>
        <option value="Queso rallado">Queso rallado</option>
        <option value="Manzana verde">Manzana verde</option>
        <option value="Fresas frescas">Fresas frescas</option>
        <option value="Chocolate blanco">Chocolate blanco</option>
        <option value="Milo">Milo</option>
        <option value="Nueces caramelizadas">Nueces caramelizadas</option>
        <option value="Marshmallows">Marshmallows blancos</option>
        <option value="Bocadillo">Bocadillo de guayaba</option>
        <option value="Galleta Lotus">Galleta Lotus</option>
      </select>

      <label for="salsa">Salsa</label>
      <select id="salsa" required>
        <option value="Arequipe">Arequipe</option>
        <option value="Lechera">Lechera</option>
        <option value="Chocolate">Chocolate</option>
        <option value="Nutella">Nutella</option>
        <option value="Fresa">Fresa</option>
        <option value="Mora">Mora</option>
        <option value="Guayaba">Guayaba</option>
        <option value="Café">Café</option>
        <option value="Mango">Mango maduro</option>
        <option value="Vainilla">Vainilla cremosa</option>
      </select>

      <label for="tamano">Tamaño del vaso</label>
      <select id="tamano" required>
        <option value="8oz" data-price="6900">8 oz - $6.900</option>
        <option value="12oz" data-price="10900">12 oz - $10.900</option>
        <option value="16oz" data-price="12900">16 oz - $12.900</option>
      </select>

      <button type="button" class="snipcart-add-item"
        data-item-id="arroz-leche"
        data-item-url="/arroces.html"
        data-item-name="Arroz de leche personalizado"
        data-item-price="6900"
        data-item-description="Arroz con sabor y toppings al gusto"
        data-item-custom1-name="Nombre"
        data-item-custom2-name="Celular"
        data-item-custom3-name="Sabor"
        data-item-custom4-name="Toppings"
        data-item-custom5-name="Salsa"
        data-item-custom6-name="Tamaño">
        Enviar pedido
      </button>
    </form>
  </div>

  <div hidden id="snipcart"></div>

  <script>
    const boton = document.querySelector(".snipcart-add-item");
    boton.addEventListener("click", () => {
      const nombre = document.getElementById("nombre").value;
      const celular = document.getElementById("telefono").value;
      const sabor = document.getElementById("sabor").value;
      const salsa = document.getElementById("salsa").value;
      const tamanoSelect = document.getElementById("tamano");
      const tamano = tamanoSelect.value;
      const precio = tamanoSelect.options[tamanoSelect.selectedIndex].dataset.price;

      const toppingsSeleccionados = Array.from(document.getElementById("topping").selectedOptions)
        .map(opt => opt.value).slice(0, 2).join(", ");

      boton.setAttribute("data-item-price", precio);
      boton.setAttribute("data-item-custom1-value", nombre);
      boton.setAttribute("data-item-custom2-value", celular);
      boton.setAttribute("data-item-custom3-value", sabor);
      boton.setAttribute("data-item-custom4-value", toppingsSeleccionados);
      boton.setAttribute("data-item-custom5-value", salsa);
      boton.setAttribute("data-item-custom6-value", tamano);
    });
  </script>
</body>
</html>
